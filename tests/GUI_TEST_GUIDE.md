# 🎨 GUI界面测试指南

## 📋 环境要求

### 系统支持
- ✅ **macOS** (推荐)：原生支持
- ✅ **Windows**：需要安装GTK运行时
- ✅ **Linux**：需要GTK开发库

### 硬件要求
- 图形显示器
- 至少512MB可用内存
- 支持OpenGL (大多数现代系统都支持)

## 🚀 GUI测试步骤

### 1. 启动GUI界面

```bash
# 在图形界面环境中运行
./main

# 或者双击 main 可执行文件
```

### 2. 界面验证检查表

启动后，验证以下界面元素：

#### 🏠 主界面布局
- [ ] 窗口标题："一生足迹数据导入器"
- [ ] 窗口大小：约800x600像素
- [ ] 顶部有艺术字标题
- [ ] 居中布局的卡片式设计
- [ ] 字体显示：使用小米MiSans字体（更清晰美观）

#### 📁 文件选择区域
- [ ] "源文件目录" 标签和输入框
- [ ] "选择目录" 按钮（可点击）
- [ ] "输出目录" 标签和输入框
- [ ] "选择目录" 按钮（可点击）

#### ⚙️ 参数设置卡片
- [ ] 卡片标题："参数设置"
- [ ] 四个设置区域：
  - 时间设置
  - 海拔设置
  - 速度设置
  - 插点设置

#### 📊 状态显示卡片
- [ ] 卡片标题："处理状态"
- [ ] 状态标签（初始显示"就绪"）
- [ ] 进度条（初始隐藏）

#### 🎛️ 操作按钮
- [ ] "开始处理"按钮（高亮显示）
- [ ] "保存配置"按钮

### 3. 功能测试

#### 文件选择测试
1. 点击"源文件目录"右侧的"选择目录"按钮
2. 验证文件浏览器对话框打开
3. 选择 `test_data` 文件夹
4. 验证路径正确显示在输入框中

#### 参数设置测试
1. **时间设置**：
   - 在开始时间框输入：`2024-01-01 08:00:00`
   - 在结束时间框输入：`2024-01-01 09:00:00`
   - 验证输入格式检查

2. **海拔设置**：
   - 在海拔输入框输入：`200.5`
   - 验证数值输入

3. **速度设置**：
   - 测试"自动计算"选项（默认选中）
   - 测试"手动指定"选项，输入速度：`1.8`

4. **插点设置**：
   - 确保"启用轨迹插点"复选框已选中
   - 在距离输入框输入：`50`

#### 配置保存测试
1. 点击"保存配置"按钮
2. 验证弹出成功对话框
3. 检查 `config.ini` 文件是否更新

#### 处理功能测试
1. 点击"开始处理"按钮
2. 观察状态变化：
   - 状态标签显示处理进度
   - 进度条显示并更新
3. 等待处理完成
4. 验证输出文件生成在 `output/` 目录

### 4. 高级测试

#### 字体显示测试
1. 启动程序时查看控制台日志，确认字体加载成功
2. 观察界面文字是否使用MiSans字体：
   - [ ] 文字更圆润清晰
   - [ ] 中英文混排协调
   - [ ] 与系统默认字体有明显差异
3. 测试不同组件的字体显示：
   - [ ] 标签文字
   - [ ] 按钮文字
   - [ ] 输入框文字
   - [ ] 状态信息

#### 批量处理测试
1. 准备多个轨迹文件在不同子目录
2. 选择父目录作为源目录
3. 运行处理
4. 验证每个文件生成对应的CSV文件

#### 配置持久化测试
1. 设置各种参数
2. 保存配置
3. 重启程序
4. 验证参数是否恢复

#### 错误处理测试
1. 选择不存在的目录
2. 输入无效的时间格式
3. 选择空的源目录
4. 验证错误提示是否正确

## 🐛 常见问题排查

### 问题1：GUI界面无法启动
**症状**：程序启动后立即退出，无界面显示

**可能原因**：
- 没有图形显示环境
- 缺少GUI库依赖

**解决方案**：
```bash
# macOS：通常无需额外配置

# Linux：安装GTK
sudo apt-get install libgtk-3-dev

# Windows：确保有OpenGL支持
```

### 问题2：界面显示异常
**症状**：界面布局错乱或元素缺失

**解决方案**：
- 更新Fyne版本：`go get fyne.io/fyne/v2@latest`
- 重新构建程序
- 检查系统DPI设置

### 问题3：文件选择对话框不工作
**症状**：点击"选择目录"无响应

**解决方案**：
- 检查文件权限
- 在有图形界面的环境中运行
- 尝试命令行方式验证文件访问

### 问题4：处理过程卡住
**症状**：进度条停止不动

**解决方案**：
- 检查源文件中是否有大文件
- 验证文件格式是否正确
- 查看日志输出

## 📊 性能基准

### 典型处理时间
- 小文件（< 1KB）： < 1秒
- 中等文件（1KB-100KB）： 1-5秒
- 大文件（> 100KB）： 5-30秒

### 内存使用
- 基础运行：~50MB
- 处理中等文件：~100MB
- 处理大文件：~200MB

## 🎯 测试成功标准

✅ **界面完整性**：所有预期的UI元素都存在且可操作
✅ **功能完整性**：所有按钮和输入框都能正常工作
✅ **数据处理**：能正确处理测试文件并生成输出
✅ **配置管理**：设置能正确保存和恢复
✅ **错误处理**：对无效输入有适当的错误提示
✅ **性能表现**：处理过程流畅，无明显卡顿

## 📞 获取帮助

如果遇到问题：
1. 运行 `./main --cli` 测试命令行功能
2. 检查 `config.ini` 配置文件
3. 查看系统日志
4. 提交问题到项目仓库

---

**🎉 恭喜！** 完成GUI测试后，您就拥有了一个功能完整的图形化轨迹数据导入工具！
