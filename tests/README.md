# 测试目录 (tests/)

这个目录包含一生足迹数据导入器的完整测试套件。

## 📁 目录结构

```
tests/
├── README.md              # 本文件
├── TEST_README.md         # 综合测试指南
├── GUI_TEST_GUIDE.md      # GUI界面测试指南
├── FONT_TEST_GUIDE.md     # 字体功能测试指南
├── quick_test.sh          # 快速测试脚本（一键测试）
├── test_cli.sh            # 命令行模式测试
├── test_gui.sh            # GUI测试环境检查
├── verify_output.sh       # 输出结果验证
├── demo_gui.sh            # GUI功能演示
├── font_demo.sh           # 字体功能演示
├── test_data/             # 测试数据目录
│   ├── sample_track.gpx   # GPX格式测试轨迹
│   ├── sample_track.kml   # KML格式测试轨迹
│   └── sample_track.ovjsn  # Ovital JSON格式测试轨迹
└── test_font_simple.go    # Go字体测试代码
```

## 🚀 快速开始

### 运行完整测试
```bash
./quick_test.sh
```

### 单独运行测试
```bash
./test_cli.sh      # 命令行功能测试
./verify_output.sh # 输出验证
./test_gui.sh      # GUI测试指南
```

## 📊 测试覆盖

### 功能测试
- ✅ **文件解析**：GPX、KML、OVJSN格式
- ✅ **轨迹插点**：智能坐标插值算法
- ✅ **时间分配**：开始/结束时间配置
- ✅ **海拔控制**：自定义海拔高度
- ✅ **速度计算**：自动/手动速度模式
- ✅ **批量处理**：多文件同时处理
- ✅ **CSV输出**：格式正确性验证

### GUI测试
- ✅ **界面布局**：组件完整性检查
- ✅ **参数配置**：所有设置项功能验证
- ✅ **文件选择**：目录浏览对话框
- ✅ **处理进度**：实时进度显示
- ✅ **字体显示**：MiSans字体加载和应用

## 🎯 测试数据说明

### 轨迹文件
- **sample_track.gpx**：北京地区5个坐标点的GPX轨迹
- **sample_track.kml**：相同轨迹的KML格式
- **sample_track.ovjsn**：Ovital地图导出的JSON格式

### 预期输出
处理后生成CSV文件，包含：
- 时间戳（从配置的开始时间开始）
- 经纬度坐标（含插值点）
- 海拔高度（使用配置值）
- 速度信息
- 其他一生足迹所需的字段

## 🛠️ 开发和维护

### 添加新测试
1. 在 `test_data/` 中添加测试文件
2. 更新相应的测试脚本
3. 在文档中记录新测试

### 更新测试脚本
- 确保脚本能正确处理相对路径
- 更新错误处理和日志输出
- 保持与其他脚本的一致性

### 文档维护
- 保持测试指南与代码同步
- 更新功能变化说明
- 添加故障排除指南

## 📞 故障排除

### 常见问题
- **权限错误**：确保脚本有执行权限 `chmod +x *.sh`
- **路径错误**：脚本会自动计算相对路径
- **依赖缺失**：运行前确保Go环境完整

### 调试技巧
- 查看脚本输出日志
- 检查生成的文件内容
- 使用 `--cli` 模式单独测试命令行功能

---

**🎉 这是一个完整的测试套件，确保项目功能稳定可靠！**

